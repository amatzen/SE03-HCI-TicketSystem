import{r as u,c as g,o as c,a as l,b as o,t as d,F as $,d as y,e as k,w as T,f as S,g as M,h as B,i as j,n as A,j as N,k as L,l as F,m as D,p as E,q as f,s as I,u as P,v as U}from"./vendor.2b75ee31.js";const V=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}};V();var _=(e,t)=>{for(const[i,s]of t)e[i]=s;return e};const q={};function z(e,t){const i=u("router-view");return c(),g(i)}var H=_(q,[["render",z]]);const K={name:"NBUserSnippet",props:{name:{type:String,required:!0},position:{type:String,required:!0}}},J={class:"flex"},G={class:"font-semibold"},R={class:"text-gray-400 text-sm"};function W(e,t,i,s,n,r){return c(),l("div",J,[o("div",null,[o("p",G,d(i.name),1),o("p",R,d(i.position),1)])])}var Q=_(K,[["render",W]]);const X={name:"Navbar",components:{NBUserSnippet:Q},data(){return{navElements:[{title:"Oversigt",to:"/"},{title:"Kundeadministration",to:"/crm"},{title:"Statistik",to:"/stats"}]}}},Y={class:"py-4 mb-10 bg-white shadow-sm"},Z={class:"container mx-auto flex justify-between items-center"},tt=o("span",{class:"font-bold text-lg tracking-tight select-none"},[S("Ticket"),o("span",{class:"text-tealish-500"},"o")],-1),et={class:"flex items-center h-full"},ot={class:"p-2 h-full inline-block"};function st(e,t,i,s,n,r){const a=u("router-link"),m=u("NBUserSnippet");return c(),l("header",Y,[o("div",Z,[tt,o("nav",null,[o("ul",et,[(c(!0),l($,null,y(n.navElements,p=>(c(),l("li",ot,[k(a,{to:p.to,title:p.title,class:"font-semibold focus:text-indigo-500 hover:underline underline-offset-medium ;","exact-active-class":"text-indigo-800"},{default:T(()=>[S(d(p.title),1)]),_:2},1032,["to","title"])]))),256))])]),k(m,{name:"Dorte",position:"Kunder\xE5dgiver"})])])}var nt=_(X,[["render",st]]);const it={name:"DefaultLayout",components:{Navbar:nt}},rt={class:"container mx-auto"};function ct(e,t,i,s,n,r){const a=u("Navbar"),m=u("router-view");return c(),l("div",null,[k(a),o("div",rt,[k(m)])])}var at=_(it,[["render",ct]]);const lt={name:"Modal",props:{dismiss:Function}},dt={class:"min-w-screen h-screen fixed left-0 top-0 flex justifty-center items-center inset-0 z-10 outline-none focus:outline-none"},ut={class:"z-20 flex bg-white mx-auto my-auto rounded overflow-hidden shadow-md",role:"dialog"};function _t(e,t,i,s,n,r){return c(),l("div",dt,[o("div",{onClick:t[0]||(t[0]=M(a=>e.$emit("dismiss"),["prevent"])),class:"absolute bg-black opacity-20 inset-0 z-0"}),o("div",ut,[B(e.$slots,"default")])])}var mt=_(lt,[["render",_t]]);const C=(e,t)=>t.length<e?t:t.substr(0,e-3)+"...",b=j(()=>A(()=>({activeTicket:null,setActiveTicket(e){this.activeTicket=e},clearActiveTicket(){this.activeTicket=null},ticketColumns:[],addTicketColumn(e){this.ticketColumns=[...this.ticketColumns,e]},ticketsList:[],addTicket(e){return this.ticketsList=[...this.ticketsList,e],e.id},updateTicket(e,t){this.ticketsList.findIndex(i=>i.id===e)},removeTicket(e){this.ticketsList=this.ticketsList.filter(t=>t.id!==e)}}))),ft={name:"TicketModal",props:{ticket:Object},components:{Modal:mt},setup(e){const t=b();return{data:e.ticket,relativeTimeFormat:n=>F(n,{locale:D}),ticketStore:t,dotLongStrings:C}}},pt={class:"w-full"},kt={class:"p-6"},ht={class:"mr-2 font-semibold text-gray-500"},vt={class:"mr-2 font-semibold text-gray-500"},gt=["title"],$t=o("div",{class:"bg-white p-6 grid"},[o("div",null,[o("div",null,[o("span",{class:"bg-tealish-500 text-white rounded-full w-10 h-10 flex items-center justify-center font-semibold"}," UH "),o("p",null,"Hej hej hej")])])],-1);function bt(e,t,i,s,n,r){const a=u("Modal");return s.data?(c(),g(a,{key:0,onDismiss:t[0]||(t[0]=m=>s.ticketStore.clearActiveTicket())},{default:T(()=>[o("div",pt,[o("div",kt,[o("p",null,[o("span",ht,"#"+d(s.data.id),1),o("span",{class:N(["mr-2 font-semibold",`text-${s.data.status.color}-800`])},d(s.data.status.title),3),o("span",vt,"Oprettet "+d(s.relativeTimeFormat(s.data.created_at))+" siden",1)]),o("h1",{class:"text-4xl mt-2 font-bold",title:s.data.title},d(s.dotLongStrings(36,s.data.title)),9,gt)]),$t])]),_:1})):L("",!0)}var xt=_(ft,[["render",bt]]);const yt={name:"TicketListItem",props:{ticket:Object},setup(e){return{ticketStore:b(),dotLongStrings:C}}},Tt={class:"text-sm"},wt={class:"font-bold text-lg my-2"},St={class:"text-base font-semibold"};function Nt(e,t,i,s,n,r){return c(),l("div",{role:"cell",class:N(`w-full bg-${i.ticket.status.color}-500 text-white p-5 rounded mb-3 cursor-pointer transform scale-100 hover:scale-105 transition-transform select-none`),onClick:t[0]||(t[0]=a=>s.ticketStore.setActiveTicket(i.ticket))},[o("p",Tt,"#"+d(i.ticket.id),1),o("h3",wt,d(s.dotLongStrings(32,i.ticket.title)),1),o("p",St,d(i.ticket.customer.name),1)],2)}var Lt=_(yt,[["render",Nt]]);const Ct={name:"OverviewPage",components:{TicketListItem:Lt,TicketModal:xt,Observer:E},setup(e){const t=b();return{ticketStore:t,getTicketsByColumn:s=>t.value.ticketsList.filter(n=>JSON.stringify(s)===JSON.stringify(n.status))}}},Ot={class:"w-full grid grid-cols-4 gap-12"},Mt={class:"text-xl font-bold"},Bt={class:"text-gray-600 font-semibold mb-5"};function jt(e,t,i,s,n,r){const a=u("TicketListItem"),m=u("TicketModal"),p=u("Observer");return c(),l($,null,[o("div",null,[o("section",Ot,[(c(!0),l($,null,y(s.ticketStore.ticketColumns,v=>(c(),l("div",{role:"row",key:v.title},[o("h2",Mt,d(v.title),1),o("p",Bt,d(s.getTicketsByColumn(v).length)+" sager",1),o("div",null,[(c(!0),l($,null,y(s.getTicketsByColumn(v),w=>(c(),g(a,{key:w.id,ticket:w},null,8,["ticket"]))),128))])]))),128))])]),k(p,null,{default:T(()=>[s.ticketStore.activeTicket!==null?(c(),g(m,{key:0,ticket:s.ticketStore.activeTicket},null,8,["ticket"])):L("",!0)]),_:1})],64)}var At=_(Ct,[["render",jt]]);const Ft={name:"NotFoundPage"},Dt=o("h1",null,"Der skete en fejl",-1),Et=o("p",null,"Vi kunne ikke finde den efterspurgte side",-1),It=[Dt,Et];function Pt(e,t,i,s,n,r){return c(),l("div",null,It)}var Ut=_(Ft,[["render",Pt]]);const Vt=[{path:"/",component:at,children:[{path:"/",component:At},{path:"/:pathMatch(.*)*",component:Ut}]}];let O={ticket:0,customer:0};const h=b().value,x=e=>{const t=f.name.findName();return{created_at:f.date.recent(14),customer:{name:t,created_at:f.date.past(),email:f.internet.email(t.split(" ")[0]),id:O.customer++},id:O.ticket++,status:e,title:f.random.words(Math.round(Math.random()*4+1)),updated_at:f.date.recent()}};function qt(){const e=[{title:"Nye sager",color:"indigo"},{title:"Aktive sager",color:"crimson"},{title:"Afventer kunderespons",color:"yellowish"},{title:"F\xE6rdig",color:"tealish"}];e.forEach(t=>h.addTicketColumn(t));for(let t=0;t<6;t++)h.addTicket(x(e[0]));for(let t=0;t<2;t++)h.addTicket(x(e[1]));h.addTicket(x(e[2]));for(let t=0;t<14;t++)h.addTicket(x(e[3]))}const zt=I({history:P("/"),routes:Vt});qt();U(H).use(zt).mount("#app");
